openapi: 3.0.0
info:
  title: Fyllo APIs
  description: Documentation for Fyllo APIs
  version: 1.0.0
servers:
- url: https://core.fyllo.in
  description: Production Server
paths:
  /plots:
    get:
      summary: Get All Plots
      description: Fetch all plots under the logged-in user account.
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                - created_date: '2024-01-01T00:00:00.000Z'
                  updated_date: '2024-01-02T00:00:00.000Z'
                  created_by: admin
                  updated_by: admin
                  plotId: plot_123
                  name: Sample Plot 1
                  area: 2
                  altitude: 250
                  location:
                    lat: 18.5204
                    lng: 73.8567
                  geoLocation:
                    type: Point
                    coordinates:
                    - 73.8567
                    - 18.5204
                  place: CityName
                  taluka: TalukaName
                  district: DistrictName
                  state: StateName
                  country: CountryName
                  soilTypeId: '1'
                  plotType: OPEN_FIELD
                  parentId: null
                  rowDistance: 6.5
                  plantDistance: 5
                  perPlantDripper: 3
                  dripperDischarge: 4
                  dripperDistance: 1.25
                  rootWidth: 60
                  rootDepth: 20
                  soilRetention: 150
                  irrigationHours: 3.5
                  lastIrrigation: '2024-01-15T09:30:00.000Z'
                  rootStock: RootStockType
                  plantationYear: '2020-01-01T00:00:00.000Z'
                  publiclyAccessible: false
                  tags:
                  - Tag1
                  hiddenSensors: []
                  servicedBy: ServiceAgent
                  saleType: sold
                  farmName: Sample Farm
                  farmerName: Farmer Name
                  farmerMobile: '9999999999'
                  deviceType: WEATHER_UNIT
                  deviceBatchId: null
                  deviceInstallationDate: '2024-01-01T00:00:00.000Z'
                  deviceIMEI: '123456789012345'
                  cropId: grapes
                  plotIsRecharged: true
                  plotExpiryDate: '2025-06-01T00:00:00.000Z'
                  inactive: false
                  outlier: false
                  farmId: farm_123
                  farmUserId: user_123
                - created_date: '2024-02-01T00:00:00.000Z'
                  updated_date: '2024-02-02T00:00:00.000Z'
                  created_by: admin
                  updated_by: admin
                  plotId: plot_456
                  name: Sample Plot 2
                  area: 1.5
                  altitude: 260
                  location:
                    lat: 18.53
                    lng: 73.86
                  geoLocation:
                    type: Point
                    coordinates:
                    - 73.86
                    - 18.53
                  place: CityName
                  taluka: TalukaName
                  district: DistrictName
                  state: StateName
                  country: CountryName
                  soilTypeId: '2'
                  plotType: OPEN_FIELD
                  parentId: null
                  rowDistance: 6
                  plantDistance: 4
                  perPlantDripper: 2
                  dripperDischarge: 4
                  dripperDistance: 1
                  rootWidth: 50
                  rootDepth: 18
                  soilRetention: 140
                  irrigationHours: 3
                  lastIrrigation: '2024-02-15T09:30:00.000Z'
                  rootStock: RootStockType
                  plantationYear: '2021-01-01T00:00:00.000Z'
                  publiclyAccessible: false
                  tags: []
                  hiddenSensors: []
                  servicedBy: ServiceAgent
                  saleType: sold
                  farmName: Sample Farm
                  farmerName: Farmer Name
                  farmerMobile: '9999999999'
                  deviceType: SOIL_UNIT
                  deviceBatchId: null
                  deviceInstallationDate: '2024-02-01T00:00:00.000Z'
                  deviceIMEI: '987654321098765'
                  cropId: pomegranate
                  plotIsRecharged: true
                  plotExpiryDate: '2025-06-01T00:00:00.000Z'
                  inactive: false
                  outlier: false
                  farmId: farm_123
                  farmUserId: user_123
  /plots/{plotId}/live-data:
    get:
      summary: Get Plot Details (Live Data)
      description: Fetch comprehensive plot details including current crop, diseases,
        pests, and latest data.
      parameters:
      - name: format
        in: query
        schema:
          type: string
        description: Response format (optional)
      - name: plotId
        in: path
        required: true
        schema:
          type: string
        description: The ID of the plot
      responses:
        '200':
          description: OK
          content:
            text/plain:
              schema:
                type: string
                example: "\"Parameter\",\"Value\",\"Unit\"\\n\"Timestamp\",\"Fri Jan\
                  \ 30 2026 13:48:59 GMT+0000 (Coordinated Universal Time)\",\"\"\\\
                  n\"Air Temperature\",\"21.95\",\"\xB0C\"\\n\"Air Humidity\",\"57.42\"\
                  ,\"%\"\\n\"Air Pressure\",\"88.47\",\"kPa\"\\n\"Soil Moisture 1\"\
                  ,\"10.00\",\"kPa\"\\n\"Soil Moisture 2\",\"18.00\",\"kPa\"\\n\"\
                  Soil Temperature\",\"21.63\",\"\xB0C\"\\n\"Leaf Wetness\",\"0.00\"\
                  ,\"%\"\\n\"Light Intensity\",\"0.00\",\"lux\"\\n\"Rainfall\",\"\
                  0.00\",\"mm\"\\n\"Wind Speed\",\"3.84\",\"kmph\"\\n\"Wind Direction\"\
                  ,\"SSE\",\"\"\\n\"Delta T\",\"6.00\",\"\xB0C\"\\n\"VPD\",\"1.12\"\
                  ,\"kPa\""
  /sensor-data:
    get:
      summary: Get Historical Data
      description: Get sensor Data
      parameters:
      - name: plotId
        in: query
        schema:
          type: string
        description: Plot ID
      - name: startTime
        in: query
        schema:
          type: string
        description: Start Time ISO (defaults to now if empty)
      - name: endTime
        in: query
        schema:
          type: string
        description: End Time ISO (defaults to now if empty)
      - name: dataType
        in: query
        schema:
          type: string
        description: Type of data [raw|hourly|daily] (optional)
      - name: sampleSize
        in: query
        schema:
          type: string
        description: Aggregation window e.g. 15m, 1h (optional)
      - name: field
        in: query
        schema:
          type: string
        description: Specific field to filter (optional)
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  data:
                  - displayName: Beginning Veraison
                    created_date: '2026-01-29T00:27:12.971Z'
                    id: 697aa96057379d56cd38b2ea
                    deviceId: QoSINB
                    timestamp: '2026-01-28T18:29:00.000Z'
                    airTemp: 23.788142058823528
                    airHumidity: 65.0997455882353
                    soilTemp: 21.42738970588235
                    soilMoisture1: 12.029411764705882
                    soilMoisture2: 16.573529411764707
                    airPressure: 89.30067544117647
                    baroPressure: 919.2063629739164
                    lightIntensity: 12019.962431647058
                    leafWetness: 0.5882352941176471
                    windSpeed: 4.425882323529412
                    rainFall: 0
                    signalStrength: 67.22011385199241
                    battery: 64.13235294117646
                    MinSoilTemp: 21.0625
                    MaxSoilTemp: 21.75
                    MinSoilMoisture1: 10
                    MaxSoilMoisture1: 13
                    MinSoilMoisture2: 16
                    MaxSoilMoisture2: 17
                    MinAirHumidity: 39.0631
                    MaxAirHumidity: 89.7261
                    MinAirTemp: 15.33341
                    MaxAirTemp: 35.29679
                    MinAirPressure: 86.00467
                    MaxAirPressure: 94.36580000000001
                    MinBaroPressure: 886.0304819450369
                    MaxBaroPressure: 970.3017752668931
                    MinLeafWet: 0
                    MaxLeafWet: 17
                    MinLux: 0
                    MaxLux: 55614.92
                    MinBattery: 46
                    MaxBattery: 69
                    MinWindSpeed: 0
                    MaxWindSpeed: 12.96
                    MinSignalStrength: 58.06451612903226
                    MaxSignalStrength: 77.41935483870968
                    numberOfRecords: 68
                    sunshineHours: 4
                    dayLength: 12
                    leafWetnessHours: 3
                    deltaSoilMoisture1: 1.09
                    deltaSoilMoisture2: -2.67
                    metadata:
                      cropId: grapes
                      stageId: BEGINING_VERASION
                      airTemp: ideal
                      airHumidity: ideal
                      soilTemp: ideal
                      moisture1: ideal
                      moisture2: ideal
                    farmUserId: sureshshankarpawar
                    plotId: plotId
                    stageName: BEGINING_VERASION
                    minThresholdMoisture1inStages: 0
                    minOptimalMoisture1inStages: 5
                    maxThresholdMoisture1inStages: 50
                    maxOptimalMoisture1inStages: 30
                    minThresholdMoisture2inStages: 0
                    minOptimalMoisture2inStages: 5
                    maxThresholdMoisture2inStages: 50
                    maxOptimalMoisture2inStages: 30
                    minThresholdMoisture1Percentage: 35
                    minOptimalMoisture1Percentage: 60
                    maxThresholdMoisture1Percentage: 100
                    maxOptimalMoisture1Percentage: 100
                    minThresholdMoisture2Percentage: 35
                    minOptimalMoisture2Percentage: 60
                    maxThresholdMoisture2Percentage: 100
                    maxOptimalMoisture2Percentage: 100
                    minThresholdWaterLevel: 0
                    minOptimalWaterLevel: 0
                    maxThresholdWaterLevel: 0
                    maxOptimalWaterLevel: 0
                    minThresholdSoilTemperatureinStages: 0
                    minOptimalSoilTemperatureinStages: 15
                    maxOptimalSoilTemperatureinStages: 35
                    maxThresholdSoilTemperatureinStages: 100
                    minThresholdAirTemperatureinStages: 0
                    minOptimalAirTemperatureinStages: 15
                    maxOptimalAirTemperatureinStages: 35
                    maxThresholdAirTemperatureinStages: 100
                    minThresholdHumidityinStages: 0
                    minOptimalHumidityinStages: 0
                    maxOptimalHumidityinStages: 70
                    maxThresholdHumidityinStages: 70
                  - displayName: Beginning Veraison
                    created_date: '2026-01-30T00:32:06.427Z'
                    id: 697bfc0653d3fd1b27dc9762
                    deviceId: QoSINB
                    timestamp: '2026-01-29T18:29:00.000Z'
                    airTemp: 24.350809014084508
                    airHumidity: 58.409989154929576
                    soilTemp: 21.56426056338028
                    soilMoisture1: 10.943661971830986
                    soilMoisture2: 18.112676056338028
                    airPressure: 89.55129971830986
                    baroPressure: 921.7351430400628
                    lightIntensity: 11787.47214752197
                    leafWetness: 0
                    windSpeed: 5.435492929577465
                    rainFall: 0
                    signalStrength: 66.0154475238528
                    battery: 64.45070422535211
                    MinSoilTemp: 21.125
                    MaxSoilTemp: 21.9375
                    MinSoilMoisture1: 9
                    MaxSoilMoisture1: 14
                    MinSoilMoisture2: 17
                    MaxSoilMoisture2: 19
                    MinAirHumidity: 36.12421
                    MaxAirHumidity: 79.38964
                    MinAirTemp: 15.20523
                    MaxAirTemp: 34.65858
                    MinAirPressure: 85.94989
                    MaxAirPressure: 94.06045
                    MinBaroPressure: 885.4778143600074
                    MaxBaroPressure: 967.2177492785848
                    MinLeafWet: 0
                    MaxLeafWet: 0
                    MinLux: 0
                    MaxLux: 50545.7722
                    MinBattery: 49
                    MaxBattery: 69
                    MinWindSpeed: 0.48
                    MaxWindSpeed: 13.44
                    MinSignalStrength: 51.61290322580645
                    MaxSignalStrength: 77.41935483870968
                    numberOfRecords: 71
                    sunshineHours: 4
                    dayLength: 13
                    leafWetnessHours: 0
                    deltaSoilMoisture1: -1.09
                    deltaSoilMoisture2: 1.54
                    metadata:
                      cropId: grapes
                      stageId: BEGINING_VERASION
                      airTemp: ideal
                      airHumidity: ideal
                      soilTemp: ideal
                      moisture1: ideal
                      moisture2: ideal
                    farmUserId: sureshshankarpawar
                    plotId: plotId
                    stageName: BEGINING_VERASION
                    minThresholdMoisture1inStages: 0
                    minOptimalMoisture1inStages: 5
                    maxThresholdMoisture1inStages: 50
                    maxOptimalMoisture1inStages: 30
                    minThresholdMoisture2inStages: 0
                    minOptimalMoisture2inStages: 5
                    maxThresholdMoisture2inStages: 50
                    maxOptimalMoisture2inStages: 30
                    minThresholdMoisture1Percentage: 35
                    minOptimalMoisture1Percentage: 60
                    maxThresholdMoisture1Percentage: 100
                    maxOptimalMoisture1Percentage: 100
                    minThresholdWaterLevel: 0
                    minOptimalWaterLevel: 0
                    maxThresholdWaterLevel: 0
                    maxOptimalWaterLevel: 0
                    minThresholdSoilTemperatureinStages: 0
                    minOptimalSoilTemperatureinStages: 15
                    maxOptimalSoilTemperatureinStages: 35
                    maxThresholdSoilTemperatureinStages: 100
                    minThresholdAirTemperatureinStages: 0
                    minOptimalAirTemperatureinStages: 15
                    maxOptimalAirTemperatureinStages: 35
                    maxThresholdAirTemperatureinStages: 100
                    minThresholdHumidityinStages: 0
                    minOptimalHumidityinStages: 0
                    maxOptimalHumidityinStages: 70
                    maxThresholdHumidityinStages: 70
  /plots/{plotId}/historical-disease-predictions:
    get:
      summary: Get Historical Disease Predictions
      description: Fetch historical disease predictions for a specific plot.
      parameters:
      - name: startTime
        in: query
        schema:
          type: string
        description: Start time in ISO format
      - name: endTime
        in: query
        schema:
          type: string
        description: End time in ISO format
      - name: plotId
        in: path
        required: true
        schema:
          type: string
        description: Plot ID
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                - id: early_blight
                  data:
                  - diseaseID: early_blight
                    probability: 59.06592622416306
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-23T00:00:00.000Z'
                  - diseaseID: early_blight
                    probability: 57.18995320220803
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-24T00:00:00.000Z'
                  - diseaseID: early_blight
                    probability: 49.23095240087103
                    riskLevel: LOW
                    calculatedDate: '2026-01-25T00:00:00.000Z'
                  - diseaseID: early_blight
                    probability: 52.554410625077075
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-26T00:00:00.000Z'
                  - diseaseID: early_blight
                    probability: 58.486754205373124
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-27T00:00:00.000Z'
                  - diseaseID: early_blight
                    probability: 56.31657903844143
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-28T00:00:00.000Z'
                  - diseaseID: early_blight
                    probability: 53.488482919531045
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-29T00:00:00.000Z'
                  - diseaseID: early_blight
                    probability: 48.597033552354645
                    riskLevel: LOW
                    calculatedDate: '2026-01-30T00:00:00.000Z'
                  displayName: Early blight
                - id: late_blight
                  data:
                  - diseaseID: late_blight
                    probability: 69.68836666666665
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-23T00:00:00.000Z'
                  - diseaseID: late_blight
                    probability: 60.25985000000001
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-24T00:00:00.000Z'
                  - diseaseID: late_blight
                    probability: 42.00323333333334
                    riskLevel: LOW
                    calculatedDate: '2026-01-25T00:00:00.000Z'
                  - diseaseID: late_blight
                    probability: 53.79738333333332
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-26T00:00:00.000Z'
                  - diseaseID: late_blight
                    probability: 62.32404999999999
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-27T00:00:00.000Z'
                  - diseaseID: late_blight
                    probability: 62.27029565217394
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-28T00:00:00.000Z'
                  - diseaseID: late_blight
                    probability: 57.433450000000015
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-29T00:00:00.000Z'
                  - diseaseID: late_blight
                    probability: 48.40013333333333
                    riskLevel: LOW
                    calculatedDate: '2026-01-30T00:00:00.000Z'
                  displayName: Late blight
  /plots/{plotId}/historical-pest-predictions:
    get:
      summary: Get Historical Pest Predictions
      description: Fetch historical pest predictions for a specific plot.
      parameters:
      - name: startTime
        in: query
        schema:
          type: string
        description: Start time in ISO format
      - name: endTime
        in: query
        schema:
          type: string
        description: End time in ISO format
      - name: plotId
        in: path
        required: true
        schema:
          type: string
        description: Plot ID
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                - id: aphids
                  data:
                  - pestID: aphids
                    probability: 51.60476803209998
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-23T00:00:00.000Z'
                  - pestID: aphids
                    probability: 74.34841953860358
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-24T00:00:00.000Z'
                  - pestID: aphids
                    probability: 65.94855301819692
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-25T00:00:00.000Z'
                  - pestID: aphids
                    probability: 66.29915760673862
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-26T00:00:00.000Z'
                  - pestID: aphids
                    probability: 54.954497861420215
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-27T00:00:00.000Z'
                  - pestID: aphids
                    probability: 64.09080127519083
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-28T00:00:00.000Z'
                  - pestID: aphids
                    probability: 63.35982146946783
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-29T00:00:00.000Z'
                  - pestID: aphids
                    probability: 55.911411573795874
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-30T00:00:00.000Z'
                  displayName: Aphids
                - id: thrips
                  data:
                  - pestID: thrips
                    probability: 35.506699999999995
                    riskLevel: LOW
                    calculatedDate: '2026-01-23T00:00:00.000Z'
                  - pestID: thrips
                    probability: 28.588166666666666
                    riskLevel: LOW
                    calculatedDate: '2026-01-24T00:00:00.000Z'
                  - pestID: thrips
                    probability: 25.30183333333333
                    riskLevel: LOW
                    calculatedDate: '2026-01-25T00:00:00.000Z'
                  - pestID: thrips
                    probability: 34.54433333333333
                    riskLevel: LOW
                    calculatedDate: '2026-01-26T00:00:00.000Z'
                  - pestID: thrips
                    probability: 35.69594444444444
                    riskLevel: LOW
                    calculatedDate: '2026-01-27T00:00:00.000Z'
                  - pestID: thrips
                    probability: 29.97905797101449
                    riskLevel: LOW
                    calculatedDate: '2026-01-28T00:00:00.000Z'
                  - pestID: thrips
                    probability: 35.60061111111111
                    riskLevel: LOW
                    calculatedDate: '2026-01-29T00:00:00.000Z'
                  - pestID: thrips
                    probability: 35.84794444444444
                    riskLevel: LOW
                    calculatedDate: '2026-01-30T00:00:00.000Z'
                  displayName: Thrips
                - id: cut_worm
                  data:
                  - pestID: cut_worm
                    probability: 75.50186228482002
                    riskLevel: HIGH
                    calculatedDate: '2026-01-23T00:00:00.000Z'
                  - pestID: cut_worm
                    probability: 74.53535211267608
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-24T00:00:00.000Z'
                  - pestID: cut_worm
                    probability: 68.62776212832551
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-25T00:00:00.000Z'
                  - pestID: cut_worm
                    probability: 73.9608607198748
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-26T00:00:00.000Z'
                  - pestID: cut_worm
                    probability: 75.05577464788733
                    riskLevel: HIGH
                    calculatedDate: '2026-01-27T00:00:00.000Z'
                  - pestID: cut_worm
                    probability: 74.65185548071037
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-28T00:00:00.000Z'
                  - pestID: cut_worm
                    probability: 73.67150234741786
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-29T00:00:00.000Z'
                  - pestID: cut_worm
                    probability: 69.67503912363068
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-30T00:00:00.000Z'
                  displayName: Cutworm
                - id: caterpillar
                  data:
                  - pestID: caterpillar
                    probability: 73.56098902989996
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-23T00:00:00.000Z'
                  - pestID: caterpillar
                    probability: 71.67364994415517
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-24T00:00:00.000Z'
                  - pestID: caterpillar
                    probability: 82.55750934303914
                    riskLevel: HIGH
                    calculatedDate: '2026-01-25T00:00:00.000Z'
                  - pestID: caterpillar
                    probability: 82.55750934303914
                    riskLevel: HIGH
                    calculatedDate: '2026-01-26T00:00:00.000Z'
                  - pestID: caterpillar
                    probability: 79.73219412567423
                    riskLevel: HIGH
                    calculatedDate: '2026-01-27T00:00:00.000Z'
                  - pestID: caterpillar
                    probability: 77.8927481940189
                    riskLevel: HIGH
                    calculatedDate: '2026-01-28T00:00:00.000Z'
                  - pestID: caterpillar
                    probability: 77.8927481940189
                    riskLevel: HIGH
                    calculatedDate: '2026-01-29T00:00:00.000Z'
                  - pestID: caterpillar
                    probability: 77.8927481940189
                    riskLevel: HIGH
                    calculatedDate: '2026-01-30T00:00:00.000Z'
                  displayName: Leaf eating Caterpillar
                - id: mites
                  data:
                  - pestID: mites
                    probability: 63.71524574548671
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-23T00:00:00.000Z'
                  - pestID: mites
                    probability: 63.148827336888445
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-24T00:00:00.000Z'
                  - pestID: mites
                    probability: 68.44808706282956
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-25T00:00:00.000Z'
                  - pestID: mites
                    probability: 69.11403370609546
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-26T00:00:00.000Z'
                  - pestID: mites
                    probability: 64.44126934125359
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-27T00:00:00.000Z'
                  - pestID: mites
                    probability: 63.31570776050221
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-28T00:00:00.000Z'
                  - pestID: mites
                    probability: 66.24755304547398
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-29T00:00:00.000Z'
                  - pestID: mites
                    probability: 65.79131321767957
                    riskLevel: MEDIUM
                    calculatedDate: '2026-01-30T00:00:00.000Z'
                  displayName: Mites
                - id: white_fly
                  data:
                  - pestID: white_fly
                    probability: 39.988789185679835
                    riskLevel: LOW
                    calculatedDate: '2026-01-23T00:00:00.000Z'
                  - pestID: white_fly
                    probability: 19.446390478840403
                    riskLevel: NIL
                    calculatedDate: '2026-01-24T00:00:00.000Z'
                  - pestID: white_fly
                    probability: 26.047314306913638
                    riskLevel: LOW
                    calculatedDate: '2026-01-25T00:00:00.000Z'
                  - pestID: white_fly
                    probability: 25.609804369716727
                    riskLevel: LOW
                    calculatedDate: '2026-01-26T00:00:00.000Z'
                  - pestID: white_fly
                    probability: 36.18872061902112
                    riskLevel: LOW
                    calculatedDate: '2026-01-27T00:00:00.000Z'
                  - pestID: white_fly
                    probability: 29.307952004203
                    riskLevel: LOW
                    calculatedDate: '2026-01-28T00:00:00.000Z'
                  - pestID: white_fly
                    probability: 29.35520013514588
                    riskLevel: LOW
                    calculatedDate: '2026-01-29T00:00:00.000Z'
                  - pestID: white_fly
                    probability: 35.22482079921563
                    riskLevel: LOW
                    calculatedDate: '2026-01-30T00:00:00.000Z'
                  displayName: Whitefly
  /plots/{plotId}/weather-forecast:
    get:
      summary: Get Weather Forecast
      description: Fetch weather forecast for a specific plot, including daily and
        hourly data.
      parameters:
      - name: plotId
        in: path
        required: true
        schema:
          type: string
        description: Plot ID
      - name: lang
        in: header
        schema:
          type: string
          example: en
        description: Language code (default 'en')
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  dailyWeatherForecastData:
                  - day: '2023-10-27'
                    icon: CLEAR_DAY
                    summary: Clear conditions throughout the day.
                    temperature:
                      min: 18.5
                      max: 32.1
                    humidity:
                      min: 40
                      max: 85
                    windSpeed: 5.2
                    windDirection: 180
                    precipProbability: 0
                  hourlyWeatherForecastData:
                  - time: '2023-10-27T10:00:00.000Z'
                    icon: CLEAR_DAY
                    summary: Clear
                    temperature: 28.5
                    humidity: 45
                    windSpeed: 4.1
                    windDirection: 170
                    precipProbability: 0
  /plots/{plotId}/fertigation-schedule:
    get:
      summary: Get Fertigation Schedule
      description: Fetch the latest fertigation schedule (Nutrient Report) for a specific
        plot.
      parameters:
      - name: plotId
        in: path
        required: true
        schema:
          type: string
        description: Plot ID
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  id: report_123
                  plotId: plot_123
                  cropId: grapes
                  petioleAnalysisStageId: stage_1
                  reportType: leaf
                  reportDate: '2023-10-25T00:00:00.000Z'
                  nutrients:
                    N:
                      value: 1.5
                      unit: '%'
                    P:
                      value: 0.4
                      unit: '%'
                  fertigationSchedule:
                    schedule:
                    - stageId: stage_1
                      config:
                      - fertigation:
                          sources:
                          - - id: urea
                              amount: 5
  /farm-users/login:
    post:
      summary: Farm User Login
      description: Login for farm users using Farm User ID and OTP/Password.
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  success: true
                  message: Login successful
                  access_token: abc123token
                  farmUserId: user_123
                  roles:
                  - farmuser
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                farmUserId:
                  type: string
                otp:
                  type: string
              example:
                farmUserId: user_123
                otp: '123456'
  /farm-users/get-user-token:
    post:
      summary: Get Farm User Token
      description: Get access token for a farm user. Requires Org Admin role. User
        must be managed by the admin.
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  id: abc123token
                  ttl: 31536000
                  userId: user_123
                  created: '2023-10-27T10:00:00.000Z'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                mobile:
                  type: string
              example:
                id: user_123
                mobile: '9876543210'
  /farm-users/logout:
    post:
      summary: Farm User Logout
      description: Logout for farm users.
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  success: true
                  message: Logout successful
  /farm-users/add:
    post:
      summary: Add Farm User
      description: Add a new farm user. Requires custom authentication.
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  farmUserId: user_123
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                name:
                  type: string
                mobile:
                  type: string
                countryCode:
                  type: string
                language:
                  type: string
                farm:
                  type: object
              example:
                id: user_123
                name: Raju
                mobile: '9876543210'
                countryCode: '+91'
                language: en
                farm:
                  name: Raju Farm
                  place: Nashik
                  taluka: Niphad
                  district: Nashik
  /plots/register:
    post:
      summary: Register Plot
      description: Register a new plot.
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  plotId: bXlwbG901234370116673305
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                lat:
                  type: string
                lng:
                  type: string
                farmUserId:
                  type: string
                farmId:
                  type: string
                farmName:
                  type: string
                farmArea:
                  type: integer
                area:
                  type: integer
                place:
                  type: string
                taluka:
                  type: string
                district:
                  type: string
                altitude:
                  type: integer
                soilTypeId:
                  type: string
                plotType:
                  type: string
              example:
                name: My Plot
                lat: '19.1234'
                lng: '73.1234'
                farmUserId: user_123
                farmId: farm_456
                farmName: My Farm
                farmArea: 10
                area: 2
                place: Nashik
                taluka: Niphad
                district: Nashik
                altitude: 500
                soilTypeId: '1'
                plotType: OPEN_FIELD
  /plots/{plotId}/add-crop:
    post:
      summary: Add Crop to Plot
      description: Add a crop to an existing plot.
      parameters:
      - name: plotId
        in: path
        required: true
        schema:
          type: string
        description: ID of the plot
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  id: 6981d6d7041552a027627c25
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                cropId:
                  type: string
                sowingDate:
                  type: string
                varietyId:
                  type: string
                rootStockId:
                  type: string
                plantationYear:
                  type: string
              example:
                cropId: grapes
                sowingDate: '2023-10-27T00:00:00.000Z'
                varietyId: thompson
                rootStockId: dogridge
                plantationYear: '2023'
  /plots/{plotId}/add-device:
    post:
      summary: Add Device to Plot
      description: Add a device (IMEI) to an existing plot.
      parameters:
      - name: plotId
        in: path
        required: true
        schema:
          type: string
        description: ID of the plot
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                example:
                  id: device_123
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                imei:
                  type: string
              example:
                imei: '123456789012345'
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
security:
- BearerAuth: []
